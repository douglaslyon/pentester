#ifndef NRFPEN_H
#define NRFPEN_H

#include "Arduino.h"
#include <RF24.h>
#include <SPI.h>

  #define DEF_ACK '1'
  #define ADDRESS1 "Node1"
  #define ADDRESS2 "Node2"
  #define PWR_LVL "RF24_PA_LOW" 
  #define CHANNEL 0x76


class nrfPen{
  public: 
    nrfPen(RF24 *myradio);
    void init(bool waitForSerial=true);
    void openPipes();
    void checkForRadioFail();
    void checkRole();
    int getRole();
    rf24_datarate_e default_DataRate;
  private: 
    RF24 *radio;
    const byte nodeAddresses[2][6] = { {"Node1"} , {"Node2"} };              // Radio pipe addresses for the 2 nodes to communicate.
    uint32_t configTimer = millis();
    int role;
};

#endif
